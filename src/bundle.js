(()=>{var t={960:(t,e,n)=>{var{pager:a,closeModal:i,toast:o,clearInputs:s,convertToDecimal:d,loadModal:l,capitalizeFirstLetter:r,download_file:c,api_call:u,showHideLoader:m,preventDefault:p,sss_estimated_constributions:_}=n(888);$(document).ready((function(){$(document).on("submit","#new_designation_form",(function(t){p(t);var e=$(this),n=e.find("button[type=submit]:focus");e.find("button").attr("disabled","disabled"),function(t){var e=t.serialize();u({type:"POST",url:"/designation/add_designation",data:e}).done((function(e){var n=e.res;n.success?(s(t),o({heading:"Success!",message:n.message,icon:"success",loader:!1,loaderBg:"green",position:"top-right"})):o({heading:"Error!",message:n.message,icon:"error",loader:!1,loaderBg:"red",position:"top-right"}),n.is_update&&$("#designation_search").submit()})).fail((function(t){o({heading:"Error!",message:"Failed to add Designation!",icon:"error",loader:!1,loaderBg:"red",position:"top-right"})})).always((function(e){t.find("button").removeAttr("disabled"),$("#new_designation_modal").find("form").find(".staff-buttons").children(".save_new_btn").removeClass("hide_el")}))}(e),n.data("submit_type")&&i($("#new_designation_modal"))})),$(document).on("click","#sss_check",(function(t){var e=$(this);$("#sss_estimated").attr("readonly",!1),e.is(":checked")||($("#sss_estimated").val(""),$("#sss_estimated").attr("readonly",!0))})),$(document).on("click","#phil_health_check",(function(t){var e=$(this);$("#phil_health_estimated").attr("readonly",!1),e.is(":checked")||($("#phil_health_estimated").val(""),$("#phil_health_estimated").attr("readonly",!0))})),$(document).on("click","#pag_ibig_check",(function(t){var e=$(this);$("#pag_ibig_estimated").attr("readonly",!1),e.is(":checked")||($("#pag_ibig_estimated").val(""),$("#pag_ibig_estimated").attr("readonly",!0))})),$(document).on("submit","#designation_search",(function(t){p(t);var e=$(this),n=e.serialize(),i=$("#designation-tbl"),o=i.parent(".horizontal-scroll"),s=i.find("tbody"),l=$("#inner_loader").clone(),r=e.find('input[name="page"]').val(),c=e.find(".js-search");c.attr("disabled","true"),s.empty(),l.removeClass("hide_el"),l.css({display:"inherit"}),o.prepend(l),i.addClass("hide_el"),i.siblings(".pagination").addClass("hide_el"),o.find(".no-results").remove(),u({type:"GET",url:"/designation/search_designation",data:n}).done((function(t){if(i.parents(".card").removeClass("hide_el"),$("#search_results").addClass("hide_el"),"success"==t.status)if(a({current_page:r,per_page:10,total_num:t.res.total_count}),t.res.total_count>0)setTimeout((function(){$.each(t.res.list,(function(t,e){s.append(`\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>${e.designation}</td>\n\t\t\t\t\t\t\t\t\t<td class="text-right">₱ ${e.sss?d(e.sss):"0.00"}</td>\n\t\t\t\t\t\t\t\t\t<td class="text-right">₱ ${e.pag_ibig?d(e.pag_ibig):"0.00"}</td>\n\t\t\t\t\t\t\t\t\t<td class="text-right">₱ ${e.phil_health?d(e.phil_health):"0.00"}</td>\n\t\t\t\t\t\t\t\t\t<td class="text-center">${e.ee_count}</td>\n\t\t\t\t\t\t\t\t\t<td class='text-center' data-designation_id="${e.designation_id}">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="designation-edit btn btn-sm btn-info waves-effect waves-light">\n\t                                        <span class="btn-label">\n\t                                        \t<i class="mdi mdi-circle-edit-outline"></i>\n\t                                        </span>\n\t                                        Update\n\t                                    </button>\n\n\t                                    <button type="button" class="designation-del btn btn-sm btn-danger waves-effect waves-light">\n\t                                        <span class="btn-label">\n\t                                        \t<i class="mdi mdi-trash-can-outline"></i>\n\t                                        </span>\n\t                                        Delete\n\t                                    </button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t`)})),o.find(".inner_loader").remove(),i.removeClass("hide_el"),i.siblings(".pagination").removeClass("hide_el")}),1e3);else{var e=$(".no-results").clone();e.removeClass("hide_el"),setTimeout((function(){o.append(e),o.find(".inner_loader").remove()}),1e3)}})).always((function(){setTimeout((function(){c.removeAttr("disabled")}),1e3)}))})),$(document).on("click",".designation-edit",(function(t){var e=$(this).parent("td").data("designation_id"),n=$("#new_designation_modal"),a=n.find("#new_designation_form");n.find(".modal_header").html("Update Designation"),a.find(".staff-buttons").children(".save_new_btn").addClass("hide_el"),u({type:"GET",url:"/designation/get_designation_details",data:{designation_id:e}}).done((function(t){"success"==t.status&&(a.find('input[name="designation"]').val(t.res.designation),a.find('input[name="designation_id"]').val(e),l("new_designation",!1))}))})),$(document).on("click",".designation-del",(function(t){var e=$(this).parent("td").data("designation_id"),n=$("#confirm_modal"),a=n.find("#confirm_form");n.find(".modal_header").html("Are you sure you want to delete designation?"),a.children("#delete_inputs").empty(),a.attr("action",""),a.attr("action","/designation/delete_designation"),a.children("#delete_inputs").append(`\n\t\t\t<input type="hidden" name="designation_id" value="${e}" />\n\t\t`),a.find(".btn_delete").data("func","designation_search"),l("confirm")}))}))},460:(t,e,n)=>{var{pager:a,closeModal:i,toast:o,clearInputs:s,convertToDecimal:d,loadModal:l,capitalizeFirstLetter:r,download_file:c,api_call:u,showHideLoader:m,preventDefault:p,sss_estimated_constributions:_}=n(888);$(document).ready((function(){$(document).on("submit","#new_employee_form",(function(t){p(t);var e=$(this),n=e.find("button[type=submit]:focus");e.find("button").attr("disabled","disabled"),function(t){u({type:"POST",url:"/employee/add_employee",data:t.serialize()}).done((function(e){var n=e.res;n.success?(s(t),o({heading:"Success!",message:n.message,icon:"success",loader:!1,loaderBg:"green",position:"top-right"})):o({heading:"Error!",message:n.message,icon:"error",loader:!1,loaderBg:"red",position:"top-right"}),n.is_update&&$("#employee_search").submit()})).fail((function(t){o({heading:"Error!",message:"Failed to add employee!",icon:"error",loader:!1,loaderBg:"red",position:"top-right"})})).always((function(e){t.find("button").removeAttr("disabled")}))}(e),n.data("submit_type")&&i($("#new_employee_modal"))})),$(document).on("input","input[name='daily_salary']",(function(t){var e=$(this).val(),n=22*Number(e);$("input[name='monthly_salary']").val(d(n))})),$(document).on("input","input[name='monthly_salary']",(function(t){var e=$(this).val(),n=Number(e)/22;$("input[name='daily_salary']").val(d(n))})),$(document).on("shown.bs.modal","#new_employee_modal",(function(t){var e=$(this);u({type:"GET",url:"/designation/select2_designations"}).done((function(t){var e=$("#designation_id");t.res.length>0&&(e.empty(),e.append('\n\t\t\t\t\t<option value="">Please Select</option>\n\t\t\t\t'),$.each(t.res,(function(t,n){e.append(`\n\t\t\t\t\t\t<option value="${n.id}">${n.designation}</option>\n\t\t\t\t\t`)})))})).always((function(){var t=$("#designation_id").data("val");t||(t=""),$("#designation_id").select2({width:"100%",dropdownParent:$("#designation_id").parent()}).val(t).trigger("change.select2"),e.data("load_inner")&&l("new_employee")})),$("#staff_status").select2({width:"100%",minimumResultsForSearch:1/0,dropdownParent:$("#staff_status").parent()})})),$(document).on("hide.bs.modal","#new_employee_modal",(function(t){$("#designation_id").data("val","")})),$(document).on("submit","#employee_search",(function(t){p(t);var e=$(this),n=$("#employee-tbl"),i=n.find("tbody"),o=n.parent(".horizontal-scroll"),s=$("#inner_loader").clone(),d=e.find('input[name="page"]').val(),l=e.find(".js-search");l.attr("disabled","true"),i.empty(),s.removeClass("hide_el"),s.css({display:"inherit"}),o.prepend(s),n.addClass("hide_el"),n.siblings(".pagination").addClass("hide_el"),o.find(".no-results").remove(),u({type:"GET",url:e.attr("action"),data:e.serialize()}).done((function(t){if(n.parents(".card").removeClass("hide_el"),$("#search_results").addClass("hide_el"),"success"==t.status)if(a({current_page:d,per_page:10,total_num:t.res.total_count}),t.res.total_count>0)setTimeout((function(){$.each(t.res.list,(function(t,e){i.append(`\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>${e.ee_full_name}</td>\n\t\t\t\t\t\t\t\t\t<td>${e.designation}</td>\n\t\t\t\t\t\t\t\t\t<td>${e.email}</td>\n\t\t\t\t\t\t\t\t\t<td>${e.phone}</td>\n\t\t\t\t\t\t\t\t\t<td>${e.status}</td>\n\t\t\t\t\t\t\t\t\t<td class='text-center' data-ee_id="${e.ee_id}">\n\t\t\t\t\t\t\t\t\t\t<button type="button" class="ee-edit btn btn-sm btn-info waves-effect waves-light">\n\t                                        <span class="btn-label">\n\t                                        \t<i class="mdi mdi-circle-edit-outline"></i>\n\t                                        </span>\n\t                                        Update\n\t                                    </button>\n\n\t                                    <button type="button" class="ee-del btn btn-sm btn-danger waves-effect waves-light">\n\t                                        <span class="btn-label">\n\t                                        \t<i class="mdi mdi-trash-can-outline"></i>\n\t                                        </span>\n\t                                        Delete\n\t                                    </button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t`)})),o.find(".inner_loader").remove(),n.removeClass("hide_el"),n.siblings(".pagination").removeClass("hide_el")}),1e3);else{var e=$(".no-results").clone();e.removeClass("hide_el"),setTimeout((function(){o.append(e),o.find(".inner_loader").remove()}),1e3)}})).always((function(){setTimeout((function(){l.removeAttr("disabled")}),1e3)}))})),$(document).on("click",".ee-del",(function(t){var e=$(this).parent("td").data("ee_id"),n=$("#confirm_modal"),a=n.find("#confirm_form");n.find(".modal_header").html("Are you sure you want to delete employee?"),a.children("#delete_inputs").empty(),a.attr("action",""),a.attr("action","/employee/delete_employee"),a.children("#delete_inputs").append(`\n\t\t\t<input type="hidden" name="ee_id" value="${e}" />\n\t\t`),a.find(".btn_delete").data("func","employee_search"),l("confirm")})),$(document).on("click",".ee-edit",(function(t){var e=$(this).parent("td").data("ee_id"),n=$("#new_employee_modal").find("#new_employee_form");n.find(".staff-buttons").children(".save_new_btn").addClass("hide_el"),u({type:"GET",url:"/employee/get_employee_details",data:{ee_id:e}}).done((function(t){if("success"==t.status){var e=t.res;n.find('input[name="employee_id"]').val(e.ee_id),n.find('input[name="first_name"]').val(e.first_name),n.find('input[name="middle_name"]').val(e.middle_name),n.find('input[name="last_name"]').val(e.last_name),n.find('input[name="email"]').val(e.email),n.find('input[name="phone"]').val(e.phone),n.find('input[name="daily_salary"]').val(e.daily_salary),n.find('input[name="monthly_salary"]').val(e.monthly_salary),n.find("#designation_id").data("val",e.designation_id),n.find("#staff_status").val(e.status).trigger("change"),l("new_employee",!1)}}))}))}))},888:t=>{a("sidebar"),a("modal");var e="",n=null;function a(t){$.get({crossOrigin:!1,url:"includes/"+t+".html",cache:!1,dataType:"html"},(function(n){switch(t){case"sidebar":$("#side_bar").html(n);break;case"page_title":$("#page_title").html(n),$(".current_page").html(e);break;case"modal":$("#modal").html(n)}})).always((function(){n&&4!=n.readyState&&n.abort()}))}$(document).ready((function(){var t,e=(new Date).getFullYear();$("#footer_to_date").text(e),$("#first_load_page").trigger("click"),t=$("#head_date_time"),setInterval((function(){var e=moment().format("dddd, MMMM DD, YYYY hh:mm:ss A");t.html(e)}),1e3)})),$(document).on("click",".reset_btn",(function(t){var e=$(this).data("modal");i($("#"+e)),s($("#"+e))})),$(document).on("keypress",".number_only",(function(t){var e=t.which?t.which:event.keyCode;return!(e>31&&(e<48||e>57))})),$(document).on("keypress",".number_with_plus",(function(t){var e=t.which?t.which:event.keyCode;return 43==e||!(e>31&&(e<48||e>57))})),$(document).on("keypress",".number_with_dot",(function(t){var e=t.which?t.which:event.keyCode;return 46==e||44==e||!(e>31&&(e<48||e>57))})),$(document).on("submit","#confirm_form",(function(t){u(t);var e=$(this),n=e.find(".btn_delete"),a=n.data("func");r({type:"POST",url:e.attr("action"),data:e.serialize()}).done((function(t){t.res.success?(o({heading:"Success!",message:t.res.message,icon:"success",loader:!1,loaderBg:"green",position:"top-right"}),$("#"+a).submit(),e.children("#delete_inputs").empty(),e.attr("action",""),n.find("btn_delete").data("func","")):o({heading:"Error!",message:t.res.message,icon:"error",loader:!1,loaderBg:"red",position:"top-right"})})).always((function(){$("#confirm_modal").modal("hide")}))})),$(document).on("click",".open_page",(function(t){t.preventDefault();var n=$(this).data("page");c(),function(t){$.get({url:"pages/"+t+".html",dataType:"html",cache:!1},(function(n){$("#page_container").empty(),$("#page_container").html(n),function(t){switch(t){case"employee":e="Employee → Search/List";break;case"attendance":e="Attendance";break;case"designation":e="Designation → Search/List";break;default:e="Dashboard"}(function(t){var e=$("#side-menu");e.find("a").removeClass("active"),e.find("li").removeClass("menuitem-active");var n=e.find('.open_page[data-page="'+t+'"]');n.parent("li").addClass("menuitem-active"),n.addClass("active")})(t),a("page_title")}(t),setTimeout((function(){c(!1)}),1e3)}))}(n)})),$(document).on("click",".open_modal",(function(t){t.preventDefault();var e=$(this),n=e.data("delay")?e.data("delay"):500,a=e.data("target"),i=e.data("head");$("#"+a+"_modal").find(".modal_header").html(i),$("#"+a+"_modal").find("form").find(".staff-buttons").children(".save_new_btn").removeClass("hide_el"),setTimeout((function(){l(a)}),n)})),$(document).on("click",".page-link",(function(t){u(t);var e=$(this),n=e.parents("#js-pagination"),a=$("#"+n.data("form")),i=e.data("next_page");a.find('input[name="page"]').val(i),a.submit()})),$(document).on("click",".js-search",(function(t){$(this).parents("form").find('input[name="page"]').val("1")}));var i=function(t){t.modal("hide")},o=function(t){$.toast({heading:t.heading,text:t.message,icon:t.icon,loader:t.loader,loaderBg:t.loaderBg,position:t.position,allowToastClose:!1})},s=function(t){t.find(".form-control").val(""),t.find("select").val("").trigger("change"),t.find('input[type="checkbox"]').prop("checked",!1),t.find('input[data-read_prop="1"]').attr("readonly",!0)},d=function(t){return(Math.round(100*t)/100).toFixed(2)},l=function(t,e=!0){t=$("#"+t+"_modal"),e&&s(t.find("form")),t.modal()},r=function(t){return n=$.ajax({type:t.type,url:"http://dgb.local"+t.url,dataType:"json",data:t.data})},c=function(t=!0){t?$("#loading-modal").show():$("#loading-modal").hide()},u=function(t){t.preventDefault()};t.exports={pager:function(t){var e=$("#js-pagination"),n=e.find(".prev"),a=e.find(".nxt"),i=e.find(".pagination_numbers"),o=$("#search_results"),s=Number(t.current_page),d=Number(t.total_num),l=Number(t.per_page),r=Math.ceil(d/l),c=10*(s-1)+1+" - "+10*(s-1+1)+" of "+d;r==s&&(c=10*(s-1)+1+" - "+d+" of "+d),o.html(c),1==s?n.css({"pointer-events":"none"}):(n.css({"pointer-events":"auto"}),n.data("next_page",s-1)),r==s?a.css({"pointer-events":"none"}):(a.css({"pointer-events":"auto"}),a.data("next_page",s+1)),i.empty();for(var u=1;u<=r;u++)i.append(`\n\t\t\t<li class="page-item">\n\t\t\t\t<a class="page-link" data-next_page='${u}' href="javascript: void(0);">${u}</a>\n\t\t\t</li>\n\t\t`);var m=0,p=0,_=parseInt(s/5);s%5==0&&(_-=1),_>=1&&(_=_+5*_-(_-1));var f=5*Math.ceil(s/5);s%5==0&&(f=5*Math.ceil(s/5)+1),m=_,p=f,1!=s&&2!=s||(m=0,p=5),i.children(".page-item").length,i.children(".page-item").each((function(t){var e=$(this),n=$(".page-item").index(e);n<m&&e.css({display:"none"}),n>p&&e.css({display:"none"})})),i.children(".page-item").eq(s-1).addClass("active")},closeModal:i,toast:o,clearInputs:s,convertToDecimal:d,loadModal:l,capitalizeFirstLetter:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},download_file:function(t){var e=document.createElement("a");e.href=t.url,e.target="_blank",e.download=t.file_name,e.click()},api_call:r,showHideLoader:c,preventDefault:u,sss_estimated_constributions:function(t){var e=0;return t>=2250&&t<=2749.99||t>=2750&&t<=3249.99?e=390:t>=3250&&t<=3749.99?e=455:t>=3750&&t<=4249.99?e=520:t>=4250&&t<=4749.99?e=585:t>=4750&&t<=5249.99?e=650:t>=5250&&t<=5749.99?e=715:t>=5750&&t<=6249.99?e=780:t>=6250&&t<=6749.99?e=845:t>=6750&&t<=7249.99?e=910:t>=7250&&t<=7749.99?e=975:t>=7750&&t<=8249.99?e=1040:t>=8250&&t<=8749.99?e=1105:t>=8750&&t<=9249.99?e=1170:t>=9250&&t<=9749.99?e=1235:t>=9750&&t<=10249.99?e=1300:t>=10250&&t<=10749.99?e=1365:t>=10750&&t<=11249.99?e=1430:t>=11250&&t<=11749.99?e=1495:t>=11750&&t<=12249.99?e=1560:t>=12250&&t<=12749.99?e=1625:t>=12750&&t<=13249.99?e=1690:t>=13250&&t<=13749.99?e=1755:t>=13750&&t<=14249.99?e=1820:t>=14250&&t<=14749.99?e=1885:t>=14750&&t<=15249.99?e=1950:t>=15250&&t<=15749.99?e=2015:t>=15750&&t<=16249.99?e=2080:t>=16250&&t<=16749.99?e=2145:t>=16750&&t<=17249.99?e=2210:t>=17250&&t<=17749.99?e=2275:t>=17750&&t<=18249.99?e=2340:t>=18250&&t<=18749.99?e=2405:t>=18750&&t<=19249.99?e=2470:t>=19250&&t<=19749.99?e=2535:t>=19750&&t<=20249.99?e=2600:t>=20250&&t<=20749.99?e=2665:t>=20750&&t<=21249.99?e=2730:t>=21250&&t<=21749.99?e=2795:t>=21750&&t<=22249.99?e=2860:t>=22250&&t<=22749.99?e=2925:t>=22750&&t<=23249.99?e=2990:t>=23250&&t<=23749.99?e=3055:t>=23750&&t<=24249.99?e=3120:t>=24250&&t<=24749.99?e=3185:t>=24750&&(e=3250),"₱ "+d(e)}}}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,n),o.exports}n(888),n(460),n(960)})();